<!--

  This is an experiment in chart integration into the explore view.

  Example dataset:
  http://192.168.1.108:8080/auto-styling.html?dataset=8581a7460e144ae09ad25d47f8e82af8_0


-->

<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <meta
  name="viewport"
  content="initial-scale=1,maximum-scale=1,user-scalable=no"
  />
  <title>Charts Demo</title>
  <link href="charts.css" rel="stylesheet">

  <script src="https://unpkg.com/lodash@4.17.15/lodash.js"></script>

  <!-- <link rel="stylesheet" href="https://s3-us-west-1.amazonaws.com/patterns.esri.com/files/calcite-web/1.2.5/css/calcite-web.min.css"> -->
  <!-- <script src="https://s3-us-west-1.amazonaws.com/patterns.esri.com/files/calcite-web/1.2.5/js/calcite-web.min.js"></script> -->

  <!-- calcite components -->
  <script
  type="module"
  src="https://unpkg.com/@esri/calcite-components@1.0.0-beta.33/dist/calcite/calcite.esm.js"
></script>
<script
  nomodule=""
  src="https://unpkg.com/@esri/calcite-components@1.0.0-beta.33/dist/calcite/calcite.js"
></script>
<link
  rel="stylesheet"
  type="text/css"
  href="https://unpkg.com/@esri/calcite-components@1.0.0-beta.33/dist/calcite/calcite.css"
/>

  <!-- 3rd party libraries -->
  <script src="https://d3js.org/d3.v4.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/jstat@latest/dist/jstat.min.js"></script>
  <script src="https://unpkg.com/lodash@4.17.15/lodash.js"></script>
  <script src="https://cdn.jsdelivr.net/autocomplete.js/0/autocomplete.min.js"></script>

  <!-- cedar -->
    <!-- load the amCharts base library -->
    <script src="https://www.amcharts.com/lib/3/amcharts.js"></script>
    <!-- in this case, we only need bar charts, so we'll load the appropriate amCharts script -->
    <script src="https://www.amcharts.com/lib/3/serial.js"></script>
    <!-- load the arcgis-rest-js scripts -->
    <script src="https://unpkg.com/@esri/arcgis-rest-request"></script>
    <script src="https://unpkg.com/@esri/arcgis-rest-feature-layer"></script>
    <!-- optionally load an amcharts theme; cedar provides a calcite theme -->
    <script src="https://unpkg.com/@esri/cedar/dist/umd/themes/amCharts/calcite.js"></script>
    <!-- load cedar -->
    <script src="https://unpkg.com/@esri/cedar/dist/umd/cedar.js"></script>

  <!-- main demo module -->
  <script type="module" src="charts.mjs"></script>
</head>

<body>
  <div id="sidebar">
    <div id="sidebarItems">

      <select id="datasetList"></select>

      <div id="datasetName"></div>
      <div>
        <span id="orgName"></span>
        <span id="recordCount"></span>
      </div>

      <div class="section">
        <div id="filtersList">
        </div>
        <span id="label">Chart <span id="featuresCount"></span> attributes:</span>
        <calcite-input type="search" scale="s" id="chartAttributeSearch" placeholder="Search Attributes by Name" aria-label="Search attributes"></calcite-input>

        <div id="chartAttributeList">
        </div>
      </div>

    </div>
  </div>

  <div id="chart" class="esri-widget">
  </div>

  <div id="viewDiv"></div>
</body>
</html>
